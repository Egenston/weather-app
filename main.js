(()=>{"use strict";const e=document.getElementById("info");function t(t){fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t}&appid=ad1977908a9a0b7a62f8666f6122ea0a&units=metric`,{mode:"cors"}).then((function(e){return e.ok?e.json():"error"})).then((function(t){const d=document.getElementById("not-found-error");if("error"!=t){const o=document.getElementById("search-bar"),r=document.getElementById("city-input");0==r.value.length||o.classList.contains("on-top")?0!=r.value.length&&o.classList.contains("on-top")&&(o.style.width="50px",r.style.paddingRight="20px",r.disabled=!0,d.style.opacity="0",document.getElementById("wrapper").style.overflow="hidden",e.style.top="110%",setTimeout((()=>{n(t),s(t.weather[0]),a(t),i(),document.getElementById("wrapper").style.overflow="auto",r.value=""}),1e3)):(o.style.width="50px",o.style.top="10%",r.style.paddingRight="20px",r.disabled=!0,d.style.opacity="0",n(t),a(t),s(t.weather[0]),i(),document.getElementById("wrapper").style.overflow="auto",setTimeout((()=>{o.classList.add("on-top"),r.value=""}),1e3))}else d.style.opacity="1"}))}function n(e){document.getElementById("city-name").textContent=e.name,document.getElementById("weather-status").textContent=e.weather[0].description,document.getElementById("temperature").innerHTML=Math.round(e.main.temp)+"<span>&deg</span>"}function a(e){var t=e.coord.lat,n=e.coord.lon;fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${t}&lon=${n}&exclude=minutely,alerts&appid=ad1977908a9a0b7a62f8666f6122ea0a&units=metric`,{mode:"cors"}).then((function(e){return e.json()})).then((function(e){var t=e.current.dt;const n=document.getElementById("hourly-weather");n.innerHTML="";for(let c=0;c<e.hourly.length/2+1;c++)if(!(t>e.hourly[c].dt)){var a=document.createElement("div");a.className="hour-weather";var s=document.createElement("p"),d=new Date(1e3*e.hourly[c].dt);s.textContent=d.getHours()+":00",a.appendChild(s);var i=o(e.hourly[c].weather);a.appendChild(i);var r=document.createElement("p");r.innerHTML=Math.round(e.hourly[c].temp)+"<span>&deg</span>",a.appendChild(r),n.appendChild(a)}!function(e){const t=document.getElementById("days-weather");t.innerHTML="";var n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];for(let u=1;u<e.daily.length;u++){var a=document.createElement("div");a.className="day-weather";var s=document.createElement("p");s.className="day-name";var d=new Date(1e3*e.daily[u].dt);s.textContent=n[d.getDay()],a.appendChild(s);var i=o(e.daily[u].weather);i.classList.add("day-weather-icon"),a.appendChild(i);var r=document.createElement("p");r.className="day-weather-humidity",r.textContent=e.daily[u].humidity+"%",a.appendChild(r);var c=document.createElement("p");c.className="day-weather-max",c.textContent=Math.round(e.daily[u].temp.max),a.appendChild(c);var l=document.createElement("p");l.className="day-weather-min",l.textContent=Math.round(e.daily[u].temp.min),a.appendChild(l),t.appendChild(a)}}(e)}))}function s(e){e.description.includes("thunderstorm")?d("https://www.stormgeo.com/assets/ArticleImages/thunderstorm-flipped__FocusFillWzQyODgsMjcwMCwieSIsNzRd.jpg"):e.description.includes("clouds")?d("https://images.unsplash.com/photo-1569241095162-e3b9a583b9d3?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8Z3JleSUyMGNsb3Vkc3xlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&w=1000&q=80"):e.description.includes("rain")?(document.body.style.backgroundImage="url(https://images.unsplash.com/photo-1569241095162-e3b9a583b9d3?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8Z3JleSUyMGNsb3Vkc3xlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&w=1000&q=80)",document.querySelector(".rain").style.opacity="1"):e.description.includes("clear")&&e.icon.includes("d")?d("https://rh7soccershow.co.za/wp-content/uploads/2019/03/sunny-day-white-sky-4k-time-lapse_ekyxov3___F0000.png"):e.description.includes("clear")&&e.icon.includes("n")?d("https://coolwallpapers.me/picsup/3050399-milky-way_night_sky_stars.jpg"):d("https://images.unsplash.com/photo-1569241095162-e3b9a583b9d3?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8Z3JleSUyMGNsb3Vkc3xlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&w=1000&q=80")}function d(e){document.body.style.backgroundImage=`url(${e})`,document.querySelector(".rain").style.opacity="0"}function o(e){var t=document.createElement("i");return e[0].description.includes("clouds")?t.innerHTML='<i class="fas fa-cloud"></i>':e[0].description.includes("thunderstorm")?t.innerHTML='<i class="fas fa-bolt"></i>':e[0].description.includes("rain")||e[0].description.includes("drizzle")?t.innerHTML='<i class="fas fa-cloud-rain"></i>':e[0].description.includes("snow")?t.innerHTML='<i class="far fa-snowflake"></i>':e[0].icon.includes("d")&&e[0].description.includes("clear")?t.innerHTML='<i class="fas fa-sun"></i>':e[0].icon.includes("n")&&e[0].description.includes("clear")?t.innerHTML='<i class="fas fa-moon"></i>':t.innerHTML='<i class="fas fa-cloud"></i>',t}function i(){e.style.top="20%"}fetch("https://api.openweathermap.org/data/2.5/weather?q=London&appid=ad1977908a9a0b7a62f8666f6122ea0a&units=metric",{mode:"cors"}).then((function(e){return e.json()})).then((function(e){var t=e.sys.sunrise,n=e.sys.sunset,a=e.dt;t<a&&a<n?document.body.style.backgroundImage="url(https://rh7soccershow.co.za/wp-content/uploads/2019/03/sunny-day-white-sky-4k-time-lapse_ekyxov3___F0000.png)":a>=n&&(document.body.style.backgroundImage="url(https://coolwallpapers.me/picsup/3050399-milky-way_night_sky_stars.jpg)")})),function(){const e=document.querySelector(".fas.fa-search"),n=document.getElementById("city-input");e.addEventListener("click",(()=>{"50px"==document.getElementById("search-bar").style.width?(document.getElementById("search-bar").style.width="400px",n.style.paddingRight="60px",n.disabled=!1):t(n.value)})),document.addEventListener("keydown",(e=>{"Enter"==e.key&&t(n.value)}))}()})();